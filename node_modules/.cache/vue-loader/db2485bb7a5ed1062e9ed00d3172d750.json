{"remainingRequest":"/home/delimond/Documents/Development/Web/Weast enery/admin dashboard/weastenergy/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/delimond/Documents/Development/Web/Weast enery/admin dashboard/weastenergy/src/components/pages/services_create_page.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/delimond/Documents/Development/Web/Weast enery/admin dashboard/weastenergy/src/components/pages/services_create_page.vue","mtime":1627041862816},{"path":"/home/delimond/Documents/Development/Web/Weast enery/admin dashboard/weastenergy/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/delimond/Documents/Development/Web/Weast enery/admin dashboard/weastenergy/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/delimond/Documents/Development/Web/Weast enery/admin dashboard/weastenergy/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/delimond/Documents/Development/Web/Weast enery/admin dashboard/weastenergy/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICJzZXJ2aWNlcyIsCiAgICBkYXRhKCl7CiAgICAgICAgcmV0dXJuewogICAgICAgICAgICBzZXJ2aWNlIDp7CiAgICAgICAgICAgICAgICB0aXRsZTonJywKICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOicnCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9LAoKICAgIGNvbXB1dGVkOiB7CiAgICAgICAgc2VydmljZXMoKSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldFNlcnZpY2VzOwogICAgICAgIH0sCiAgICB9LAoKICAgIG1vdW50ZWQoKSB7CiAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goInZpZXdDb250ZW50Iik7CiAgICB9LAoKICAgIG1ldGhvZHM6ewogICAgICAgIG9uRGVsZXRlKGlkKXsKICAgICAgICAgICAgdGhpcy4kc3dhbCh7CiAgICAgICAgICAgICAgICBidXR0b25zU3R5bGluZzogdHJ1ZSwKICAgICAgICAgICAgICAgIHRpdGxlOiAiRXRlcyB2b3VzIHPDu3I/IiwKICAgICAgICAgICAgICAgIHRleHQ6ICJkZSB2b3Vsb2lyIHN1cHByaW1lciBkw6lmaW5pdGl2ZW1lbnQgc2VydmljZSA/IiwKICAgICAgICAgICAgICAgIGljb246ICJxdWVzdGlvbiIsCiAgICAgICAgICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiB0cnVlLAogICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICJPdWkiLAogICAgICAgICAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogIk5vbiIsCiAgICAgICAgICAgIH0pLnRoZW4oKHJlc3VsdCkgPT4gewogICAgICAgICAgICAgICAgaWYgKHJlc3VsdC52YWx1ZSkgewogICAgICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJkZWxldGVTZXJ2aWNlIixpZCkKICAgICAgICAgICAgICAgICAgICAudGhlbigocmVzKT0+ewogICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgICAgICAgICAgICAgICAgICBpZihyZXM9PT0nc3VjY2VzcycpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kc3dhbCh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3Q6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAidG9wLWVuZCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZXI6IDIwMDAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZXJQcm9ncmVzc0JhcjogZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogInN1Y2Nlc3MiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAibGEgc3VwcHJlc3Npb24gZXN0IGVmZmVjdHXDqWUhIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goInZpZXdDb250ZW50Iik7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgfSBlbHNlIHJldHVybjsKICAgICAgICAgICAgfSk7CiAgICAgICAgfSwKICAgICAgICBjcmVhdGUoKXsKICAgICAgICAgICAgaWYodGhpcy5zZXJ2aWNlLnRpdGxlID09PScnKXsKICAgICAgICAgICAgICAgIHRoaXMuJHN3YWwoewogICAgICAgICAgICAgICAgICAgIHRvYXN0OiB0cnVlLAogICAgICAgICAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogInRvcC1lbmQiLAogICAgICAgICAgICAgICAgICAgIHRpbWVyOiAyMDAwLAogICAgICAgICAgICAgICAgICAgIHRpbWVyUHJvZ3Jlc3NCYXI6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgIGljb246ICJ3YXJuaW5nIiwKICAgICAgICAgICAgICAgICAgICB0aXRsZTogInZvdXMgZGV2ZXogZW50cmVyIGxlIHRpdHJlIGR1IHByb2pldCAhIiwKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAodGhpcy5zZXJ2aWNlLmRlc2NyaXB0aW9uID09PScnKSB7CiAgICAgICAgICAgICAgICB0aGlzLiRzd2FsKHsKICAgICAgICAgICAgICAgICAgICB0b2FzdDogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICJ0b3AtZW5kIiwKICAgICAgICAgICAgICAgICAgICB0aW1lcjogMjAwMCwKICAgICAgICAgICAgICAgICAgICB0aW1lclByb2dyZXNzQmFyOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICBpY29uOiAid2FybmluZyIsCiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICJ2b3VzIGRldmV6IGVudHJlciBsYSBkZXNjcmlwdGlvbiBkdSBwcm9qZXQgISIsCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICB0aGlzLiRzd2FsKHsKICAgICAgICAgICAgICAgIHRpdGxlOiAnQ2hhcmdlbWVudCcsCiAgICAgICAgICAgICAgICBodG1sOiAnVHJhaXRlbWVudCBlbiBjb3Vycy4uLicsCiAgICAgICAgICAgICAgICB0aW1lcjogMjAwMCwKICAgICAgICAgICAgICAgIGFsbG93T3V0c2lkZUNsaWNrOiBmYWxzZSwKICAgICAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgICAgIG9uQmVmb3JlT3BlbjogKCkgPT4gewogICAgICAgICAgICAgICAgICAgIHRoaXMuJHN3YWwuc2hvd0xvYWRpbmcoKQogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgfSkudGhlbigoKSA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiY3JlYXRlX3NlcnZpY2VzIiwgdGhpcy5zZXJ2aWNlKQogICAgICAgICAgICAgICAgICAgIC50aGVuKChyZXN1bHQpPT57CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHN3YWwoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3Q6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogInRvcC1lbmQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZXI6IDIwMDAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lclByb2dyZXNzQmFyOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICJzdWNjZXNzIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAic2VydmljZSBham91dMOpIGF2ZWMgc3VjY8OocyAhIiwKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VydmljZS50aXRsZSA9ICIiOwogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlcnZpY2UuZGVzY3JpcHRpb24gPSAiIjsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goInZpZXdDb250ZW50Iik7CiAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZXJyPT5jb25zb2xlLmxvZyhlcnIpKQogICAgICAgICAgICB9KQogICAgICAgIH0sCgogICAgICAgIGNhbmNlbCgpewogICAgICAgICAgICB0aGlzLnNlcnZpY2UudGl0bGU9IiI7CiAgICAgICAgICAgIHRoaXMuc2VydmljZS5kZXNjcmlwdGlvbiA9ICIiOwogICAgICAgIH0KCiAgICB9Cn0K"},{"version":3,"sources":["services_create_page.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA","file":"services_create_page.vue","sourceRoot":"src/components/pages","sourcesContent":["<template>\n    <div>\n        <!-- Content Header (Page header) -->\n        <div class=\"content-header\">\n            <div class=\"container-fluid\">\n                <div class=\"row mb-2\">\n                    <div class=\"col-sm-6\">\n                        <h1 class=\"m-0 text-dark\">Création services</h1>\n                    </div>\n                    <div class=\"col-sm-6\">\n                        <ol class=\"breadcrumb float-sm-right\">\n                            <li class=\"breadcrumb-item\"><router-link :to=\"{name:'home'}\" tag=\"a\">Acceuil</router-link></li>\n                        </ol>\n                    </div><!-- /.col -->\n                </div><!-- /.row -->\n            </div><!-- /.container-fluid -->\n        </div>\n        <!-- /.content-header -->\n\n        <!-- Main content -->\n        <div class=\"content\">\n            <div class=\"container-fluid\">\n                <div class=\"row\">\n                    <div class=\"col-12\">\n                        <div class=\"card card-primary\">\n                            <div class=\"card-header\">\n                                <h3 class=\"card-title\">Ajout service</h3>\n                            </div>\n                            <!-- /.card-header -->\n                            <!-- form start -->\n                            <form role=\"form\">\n                                <div class=\"card-body\">\n                                    <div class=\"form-group\">\n                                        <label for=\"InputTitle\">Service titre</label>\n                                        <input type=\"text\" v-model=\"service.title\" class=\"form-control border-primary\" id=\"InputTitle\" placeholder=\"Entrer le titre du service\">\n                                    </div>\n                                    <div class=\"form-group\">\n                                        <label>Service description</label>\n                                        <textarea class=\"form-control border-primary\" v-model=\"service.description\" rows=\"3\" placeholder=\"Entrer la description\"></textarea>\n                                    </div>\n\n                                </div>\n                            </form>\n                                <!-- /.card-body -->\n\n                            <div class=\"card-footer\">\n                                <button type=\"submit\" class=\"btn btn-primary mr-2\" @click=\"create\"> <i class=\"fa fa-plus mr-2\"></i> Ajouter</button>\n                                <button type=\"submit\" class=\"btn btn-secondary\" @click=\"cancel\"> <i class=\"fa fa-circle-notch mr-2\"></i> Annuler</button>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"row\">\n                    <div class=\"col-12\">\n                        <div class=\"card\">\n                            <div class=\"card-body\">\n                                <table class=\"table table-striped table-valign-middle\">\n                                    <thead>\n                                    <tr>\n                                        <th>Titre</th>\n                                        <th>Description</th>\n                                        <th></th>\n                                    </tr>\n                                    </thead>\n                                    <tbody>\n                                    <tr v-for=\"(data, index) in services\" :key=\"index\">\n                                        <td>{{data.titre | sortlength(100,\"...\")}}</td>\n                                        <td>\n                                            {{data.description | sortlength(100,\"...\")}}\n                                        </td>\n                                        <td>\n                                            <button type=\"button\" class=\"btn btn-sm btn-danger\" @click=\"onDelete(data.service_id)\"> <i class=\"fa fa-trash mr-2\"></i>supprimer</button>\n                                        </td>\n                                    </tr>\n                                    </tbody>\n                                </table>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div><!-- /.container-fluid -->\n        </div>\n        <!-- /.content -->\n    </div>\n</template>\n\n<script>\n    export default {\n        name: \"services\",\n        data(){\n            return{\n                service :{\n                    title:'',\n                    description:''\n                }\n            }\n        },\n\n        computed: {\n            services() {\n                return this.$store.getters.getServices;\n            },\n        },\n\n        mounted() {\n            this.$store.dispatch(\"viewContent\");\n        },\n\n        methods:{\n            onDelete(id){\n                this.$swal({\n                    buttonsStyling: true,\n                    title: \"Etes vous sûr?\",\n                    text: \"de vouloir supprimer définitivement service ?\",\n                    icon: \"question\",\n                    showCancelButton: true,\n                    confirmButtonText: \"Oui\",\n                    cancelButtonText: \"Non\",\n                }).then((result) => {\n                    if (result.value) {\n                        this.$store.dispatch(\"deleteService\",id)\n                        .then((res)=>{\n                            console.log(res);\n                            if(res==='success'){\n                                this.$swal({\n                                    toast: true,\n                                    showConfirmButton: false,\n                                    position: \"top-end\",\n                                    timer: 2000,\n                                    timerProgressBar: false,\n                                    icon: \"success\",\n                                    title: \"la suppression est effectuée!\",\n                                });\n                                this.$store.dispatch(\"viewContent\");\n                            }\n                        })\n                    } else return;\n                });\n            },\n            create(){\n                if(this.service.title ===''){\n                    this.$swal({\n                        toast: true,\n                        showConfirmButton: false,\n                        position: \"top-end\",\n                        timer: 2000,\n                        timerProgressBar: false,\n                        icon: \"warning\",\n                        title: \"vous devez entrer le titre du projet !\",\n                    });\n                    return;\n                }\n\n                if (this.service.description ==='') {\n                    this.$swal({\n                        toast: true,\n                        showConfirmButton: false,\n                        position: \"top-end\",\n                        timer: 2000,\n                        timerProgressBar: false,\n                        icon: \"warning\",\n                        title: \"vous devez entrer la description du projet !\",\n                    });\n                    return;\n                }\n                this.$swal({\n                    title: 'Chargement',\n                    html: 'Traitement en cours...',\n                    timer: 2000,\n                    allowOutsideClick: false,\n                    showConfirmButton: false,\n                    onBeforeOpen: () => {\n                        this.$swal.showLoading()\n                    },\n                }).then(() => {\n                    this.$store.dispatch(\"create_services\", this.service)\n                        .then((result)=>{\n                            console.log(result);\n                            this.$swal({\n                                toast: true,\n                                showConfirmButton: false,\n                                position: \"top-end\",\n                                timer: 2000,\n                                timerProgressBar: false,\n                                icon: \"success\",\n                                title: \"service ajouté avec succès !\",\n                            });\n                            this.service.title = \"\";\n                            this.service.description = \"\";\n                            this.$store.dispatch(\"viewContent\");\n                        })\n                        .catch(err=>console.log(err))\n                })\n            },\n\n            cancel(){\n                this.service.title=\"\";\n                this.service.description = \"\";\n            }\n\n        }\n    }\n</script>"]}]}