{"remainingRequest":"/home/delimond/Documents/Development/Web/Weast enery/admin dashboard/weastenergy/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/delimond/Documents/Development/Web/Weast enery/admin dashboard/weastenergy/src/components/pages/contact_create_page.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/delimond/Documents/Development/Web/Weast enery/admin dashboard/weastenergy/src/components/pages/contact_create_page.vue","mtime":1627989003638},{"path":"/home/delimond/Documents/Development/Web/Weast enery/admin dashboard/weastenergy/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/delimond/Documents/Development/Web/Weast enery/admin dashboard/weastenergy/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/delimond/Documents/Development/Web/Weast enery/admin dashboard/weastenergy/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/delimond/Documents/Development/Web/Weast enery/admin dashboard/weastenergy/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiQ29udGFjdENvbXBvbmVudCIsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGNvbnRhY3Q6IHsKICAgICAgICBwcm9wZXJ0eTogIiIsCiAgICAgICAgdmFsdWU6ICIiLAogICAgICB9LAogICAgICBpc0xvYWQ6IGZhbHNlLAogICAgfTsKICB9LAoKICBjb21wdXRlZDogewogICAgY29udGFjdHMoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldENvbnRhY3RzOwogICAgfSwKICB9LAoKICBtb3VudGVkKCkgewogICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goInZpZXdDb250ZW50Iik7CiAgfSwKCiAgbWV0aG9kczogewogICAgc3VibWl0dGVkKCkgewogICAgICBpZiAodGhpcy5jb250YWN0LnByb3BlcnR5ID09PSAiIiB8fCB0aGlzLmNvbnRhY3QudmFsdWUgPT09ICIiKSB7CiAgICAgICAgdGhpcy4kc3dhbCh7CiAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICB0aW1lcjogMjAwMCwKICAgICAgICAgIHRpbWVyUHJvZ3Jlc3NCYXI6IGZhbHNlLAogICAgICAgICAgaWNvbjogIndhcm5pbmciLAogICAgICAgICAgdGV4dDogIkF1Y3VuZSBpbmZvcm1hdGlvbiBkZWN0ZWN0w6llIHBvdXIgbCdlbnZvaSBkZSBkb25uw6llcyBhdSBzZXJ2ZXVyISIsCiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIGxldCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpOwogICAgICBmb3JtRGF0YS5hcHBlbmQoImRlIiwgdGhpcy5jb250YWN0LnByb3BlcnR5KTsKICAgICAgZm9ybURhdGEuYXBwZW5kKCJjb250YWN0IiwgdGhpcy5jb250YWN0LnZhbHVlKTsKICAgICAgdGhpcy4kc3dhbCh7CiAgICAgICAgYnV0dG9uc1N0eWxpbmc6IHRydWUsCiAgICAgICAgdGl0bGU6ICIiLAogICAgICAgIHRleHQ6ICJWb3VsZXotdm91cyB2cmFpbWVudCBham91dGVyIGNlIGNvbnRhY3QgZGFucyB2b3RyZSBzaXRlIHdlYiA/IiwKICAgICAgICBpY29uOiAicXVlc3Rpb24iLAogICAgICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUsCiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICJPdWkiLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICJOb24iLAogICAgICB9KS50aGVuKChyZXN1bHQpID0+IHsKICAgICAgICBpZiAocmVzdWx0LnZhbHVlKSB7CiAgICAgICAgICB0aGlzLmlzTG9hZCA9IHRydWU7CgogICAgICAgICAgdGhpcy4kYXhpb3MKICAgICAgICAgICAgLnBvc3QoImFkbWluL2NvbnRhY3QiLCBmb3JtRGF0YSkKICAgICAgICAgICAgLnRoZW4oKHJlc3VsdCkgPT4gewogICAgICAgICAgICAgIGxldCBzdGF0dXMgPSByZXN1bHQuZGF0YS5yZXBvbnNlLnN0YXR1czsKICAgICAgICAgICAgICBjb25zb2xlLmxvZyhzdGF0dXMpOwoKICAgICAgICAgICAgICBpZiAoc3RhdHVzID09PSAic3VjY2VzcyIpIHsKICAgICAgICAgICAgICAgIHRoaXMuaXNMb2FkID0gZmFsc2U7CiAgICAgICAgICAgICAgICB0aGlzLiRzd2FsKHsKICAgICAgICAgICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogICAgICAgICAgICAgICAgICB0aW1lcjogMjAwMCwKICAgICAgICAgICAgICAgICAgdGltZXJQcm9ncmVzc0JhcjogZmFsc2UsCiAgICAgICAgICAgICAgICAgIGljb246ICJzdWNjZXNzIiwKICAgICAgICAgICAgICAgICAgdGV4dDogIkxhIHBlcnNvbm5hbGlzYXRpb24gZHUgc2l0ZSB3ZWIgZXN0IGVmZmVjdHXDqWUgYXZlYyBzdWNjw6hzISIsCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHRoaXMuY2FuY2VsKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KQogICAgICAgICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSk7CiAgICAgICAgfSBlbHNlIHJldHVybjsKICAgICAgfSk7CiAgICB9LAoKICAgIG9uRGVsZXRlKGlkKSB7CiAgICAgIGxldCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpOwogICAgICBmb3JtRGF0YS5hcHBlbmQoImNvbnRhY3RfaWQiLCBpZCk7CiAgICAgIHRoaXMuJHN3YWwoewogICAgICAgIGJ1dHRvbnNTdHlsaW5nOiB0cnVlLAogICAgICAgIHRpdGxlOiAiIiwKICAgICAgICB0ZXh0OiAiVm91bGV6LXZvdXMgdnJhaW1lbnQgc3VwcHJpbWVyIGTDqWZpbml0aXZlbWVudCBjZSBjb250YWN0ID8iLAogICAgICAgIGljb246ICJxdWVzdGlvbiIsCiAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSwKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogIk91aSIsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogIk5vbiIsCiAgICAgIH0pLnRoZW4oKHJlc3VsdCkgPT4gewogICAgICAgIGlmIChyZXN1bHQudmFsdWUpIHsKICAgICAgICAgIHRoaXMuJGF4aW9zCiAgICAgICAgICAgIC5wb3N0KCJhZG1pbi9jb250YWN0L3N1cHByaW1lciIsIGZvcm1EYXRhKQogICAgICAgICAgICAudGhlbigocmVzdWx0KSA9PiB7CiAgICAgICAgICAgICAgbGV0IHN0YXR1cyA9IHJlc3VsdC5kYXRhLnJlcG9uc2Uuc3RhdHVzOwogICAgICAgICAgICAgIGNvbnNvbGUubG9nKHN0YXR1cyk7CgogICAgICAgICAgICAgIGlmIChzdGF0dXMgPT09ICJzdWNjZXNzIikgewogICAgICAgICAgICAgICAgdGhpcy5pc0xvYWQgPSBmYWxzZTsKICAgICAgICAgICAgICAgIHRoaXMuJHN3YWwoewogICAgICAgICAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgICAgICAgIHRpbWVyOiAyMDAwLAogICAgICAgICAgICAgICAgICB0aW1lclByb2dyZXNzQmFyOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgaWNvbjogInN1Y2Nlc3MiLAogICAgICAgICAgICAgICAgICB0ZXh0OiAibGEgc3VwcHJlc3Npb24gZXN0IGVmZmVjdHXDqWUgYXZlYyBzdWNjw6hzISIsCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJ2aWV3Q29udGVudCIpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkKICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpOwogICAgICAgIH0gZWxzZSByZXR1cm47CiAgICAgIH0pOwogICAgfSwKCiAgICBjYW5jZWwoKSB7CiAgICAgIHRoaXMuY29udGFjdC5wcm9wZXJ0eSA9ICIiOwogICAgICB0aGlzLmNvbnRhY3QudmFsdWUgPSAiIjsKICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["contact_create_page.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"contact_create_page.vue","sourceRoot":"src/components/pages","sourcesContent":["<template>\n  <div>\n    <!-- Content Header (Page header) -->\n    <div class=\"content-header\">\n      <div class=\"container-fluid\">\n        <div class=\"row mb-2\">\n          <div class=\"col-sm-6\">\n            <h1 class=\"m-0 text-dark\">Création d'un contact</h1>\n          </div>\n          <div class=\"col-sm-6\">\n            <ol class=\"breadcrumb float-sm-right\">\n              <li class=\"breadcrumb-item\">\n                <router-link :to=\"{ name: 'home' }\" tag=\"a\">Acceuil</router-link>\n              </li>\n            </ol>\n          </div>\n          <!-- /.col -->\n        </div>\n        <!-- /.row -->\n      </div>\n      <!-- /.container-fluid -->\n    </div>\n    <!-- /.content-header -->\n\n    <!-- Main content -->\n    <div class=\"content\">\n      <div class=\"container-fluid\">\n        <div class=\"row\">\n          <div class=\"col-12\">\n            <div class=\"card card-primary\">\n              <div class=\"card-header\">\n                <h3 class=\"card-title\">Contact</h3>\n              </div>\n              <!-- /.card-header -->\n              <!-- form start -->\n              <form role=\"form\">\n                <div class=\"card-body\">\n                  <div class=\"form-group\">\n                    <label for=\"InputTitle\">De : </label>\n                    <input\n                      type=\"text\"\n                      v-model=\"contact.property\"\n                      class=\"form-control border-primary\"\n                      id=\"InputTitle\"\n                      placeholder=\"De :.....\"\n                    />\n                  </div>\n                  <div class=\"form-group\">\n                    <label>Contact</label>\n                    <input\n                      type=\"text\"\n                      v-model=\"contact.value\"\n                      class=\"form-control border-primary\"\n                      id=\"InputTitle\"\n                      placeholder=\"contact ...\"\n                    />\n                  </div>\n                </div>\n              </form>\n              <!-- /.card-body -->\n\n              <div class=\"card-footer\">\n                <button type=\"submit\" class=\"btn btn-primary mr-2\" @click=\"submitted\">\n                  <i class=\"fa fa-plus mr-2\" v-if=\"isLoad === false\"></i\n                  ><span\n                    class=\"spinner-border spinner-border-sm\"\n                    v-if=\"isLoad === true\"\n                  ></span>\n                  Ajouter\n                </button>\n                <button type=\"submit\" class=\"btn btn-secondary\" @click=\"cancel\">\n                  <i class=\"fa fa-circle-notch mr-2\"></i> Annuler\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"row\">\n          <div class=\"col-12\">\n            <div class=\"card\">\n              <div class=\"card-body\">\n                <table class=\"table table-striped table-valign-middle\">\n                  <thead>\n                    <tr>\n                      <th>De</th>\n                      <th>Contact</th>\n                      <th></th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    <tr v-for=\"(data, index) in contacts\" :key=\"index\">\n                      <td>\n                        {{ data.de }}\n                      </td>\n                      <td>\n                        {{ data.contact }}\n                      </td>\n                      <td>\n                        <button\n                          type=\"button\"\n                          class=\"btn btn-sm btn-danger\"\n                          @click=\"onDelete(data.contact_id)\"\n                        >\n                          <i class=\"fa fa-trash mr-2\"></i>supprimer\n                        </button>\n                      </td>\n                    </tr>\n                  </tbody>\n                </table>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <!-- /.container-fluid -->\n    </div>\n    <!-- /.content -->\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"ContactComponent\",\n  data() {\n    return {\n      contact: {\n        property: \"\",\n        value: \"\",\n      },\n      isLoad: false,\n    };\n  },\n\n  computed: {\n    contacts() {\n      return this.$store.getters.getContacts;\n    },\n  },\n\n  mounted() {\n    this.$store.dispatch(\"viewContent\");\n  },\n\n  methods: {\n    submitted() {\n      if (this.contact.property === \"\" || this.contact.value === \"\") {\n        this.$swal({\n          showConfirmButton: false,\n          timer: 2000,\n          timerProgressBar: false,\n          icon: \"warning\",\n          text: \"Aucune information dectectée pour l'envoi de données au serveur!\",\n        });\n        return;\n      }\n      let formData = new FormData();\n      formData.append(\"de\", this.contact.property);\n      formData.append(\"contact\", this.contact.value);\n      this.$swal({\n        buttonsStyling: true,\n        title: \"\",\n        text: \"Voulez-vous vraiment ajouter ce contact dans votre site web ?\",\n        icon: \"question\",\n        showCancelButton: true,\n        confirmButtonText: \"Oui\",\n        cancelButtonText: \"Non\",\n      }).then((result) => {\n        if (result.value) {\n          this.isLoad = true;\n\n          this.$axios\n            .post(\"admin/contact\", formData)\n            .then((result) => {\n              let status = result.data.reponse.status;\n              console.log(status);\n\n              if (status === \"success\") {\n                this.isLoad = false;\n                this.$swal({\n                  showConfirmButton: false,\n                  timer: 2000,\n                  timerProgressBar: false,\n                  icon: \"success\",\n                  text: \"La personnalisation du site web est effectuée avec succès!\",\n                });\n                this.cancel();\n              }\n            })\n            .catch((err) => console.log(err));\n        } else return;\n      });\n    },\n\n    onDelete(id) {\n      let formData = new FormData();\n      formData.append(\"contact_id\", id);\n      this.$swal({\n        buttonsStyling: true,\n        title: \"\",\n        text: \"Voulez-vous vraiment supprimer définitivement ce contact ?\",\n        icon: \"question\",\n        showCancelButton: true,\n        confirmButtonText: \"Oui\",\n        cancelButtonText: \"Non\",\n      }).then((result) => {\n        if (result.value) {\n          this.$axios\n            .post(\"admin/contact/supprimer\", formData)\n            .then((result) => {\n              let status = result.data.reponse.status;\n              console.log(status);\n\n              if (status === \"success\") {\n                this.isLoad = false;\n                this.$swal({\n                  showConfirmButton: false,\n                  timer: 2000,\n                  timerProgressBar: false,\n                  icon: \"success\",\n                  text: \"la suppression est effectuée avec succès!\",\n                });\n                this.$store.dispatch(\"viewContent\");\n              }\n            })\n            .catch((err) => console.log(err));\n        } else return;\n      });\n    },\n\n    cancel() {\n      this.contact.property = \"\";\n      this.contact.value = \"\";\n    },\n  },\n};\n</script>\n"]}]}