{"remainingRequest":"/home/delimond/Documents/Development/Web/Weast enery/admin dashboard/weastenergy/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/delimond/Documents/Development/Web/Weast enery/admin dashboard/weastenergy/src/components/pages/project_create_page.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/delimond/Documents/Development/Web/Weast enery/admin dashboard/weastenergy/src/components/pages/project_create_page.vue","mtime":1626489005149},{"path":"/home/delimond/Documents/Development/Web/Weast enery/admin dashboard/weastenergy/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/delimond/Documents/Development/Web/Weast enery/admin dashboard/weastenergy/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/delimond/Documents/Development/Web/Weast enery/admin dashboard/weastenergy/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/delimond/Documents/Development/Web/Weast enery/admin dashboard/weastenergy/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICJwcm9qZWN0IiwKICAgIGRhdGEoKXsKICAgICAgICByZXR1cm57CiAgICAgICAgICAgIHByb2plY3Q6ewogICAgICAgICAgICAgICAgdGl0bGU6JycsCiAgICAgICAgICAgICAgICBpbWFnZTonJywKICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOicnLAogICAgICAgICAgICAgICAgZmlsZTonJwogICAgICAgICAgICB9LAoKICAgICAgICAgICAgaXNVcGxvYWRlZDpmYWxzZQogICAgICAgIH0KICAgIH0sCgogICAgbWV0aG9kczp7CiAgICAgICAgY3JlYXRlKCl7CiAgICAgICAgICAgIGlmKHRoaXMucHJvamVjdC50aXRsZT09PSIiKXsKICAgICAgICAgICAgICAgIHRoaXMuJHN3YWwoewogICAgICAgICAgICAgICAgICAgIHRvYXN0OiB0cnVlLAogICAgICAgICAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogInRvcC1lbmQiLAogICAgICAgICAgICAgICAgICAgIHRpbWVyOiAyMDAwLAogICAgICAgICAgICAgICAgICAgIHRpbWVyUHJvZ3Jlc3NCYXI6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgIGljb246ICJ3YXJuaW5nIiwKICAgICAgICAgICAgICAgICAgICB0aXRsZTogInZvdXMgZGV2ZXogZW50cmVyIGxlIHRpdHJlIGR1IHByb2pldCAhIiwKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmKHRoaXMucHJvamVjdC5kZXNjcmlwdGlvbj09PSIiKXsKICAgICAgICAgICAgICAgIHRoaXMuJHN3YWwoewogICAgICAgICAgICAgICAgICAgIHRvYXN0OiB0cnVlLAogICAgICAgICAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogInRvcC1lbmQiLAogICAgICAgICAgICAgICAgICAgIHRpbWVyOiAyMDAwLAogICAgICAgICAgICAgICAgICAgIHRpbWVyUHJvZ3Jlc3NCYXI6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgIGljb246ICJ3YXJuaW5nIiwKICAgICAgICAgICAgICAgICAgICB0aXRsZTogInZvdXMgZGV2ZXogZW50cmVyIGxhIGRlc2NyaXB0aW9uIGR1IHByb2pldCAhIiwKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmKHRoaXMucHJvamVjdC5maWxlPT09IiIpewogICAgICAgICAgICAgICAgdGhpcy4kc3dhbCh7CiAgICAgICAgICAgICAgICAgICAgdG9hc3Q6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAidG9wLWVuZCIsCiAgICAgICAgICAgICAgICAgICAgdGltZXI6IDIwMDAsCiAgICAgICAgICAgICAgICAgICAgdGltZXJQcm9ncmVzc0JhcjogZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgaWNvbjogIndhcm5pbmciLAogICAgICAgICAgICAgICAgICAgIHRpdGxlOiAidm91cyBkZXZleiBjaGFyZ2VyIGwnaW1hZ2UgZGUgY291dmVydHVyZSAhIiwKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CgogICAgICAgICAgICB0aGlzLiRzd2FsKHsKICAgICAgICAgICAgICAgIHRpdGxlOiAnQ2hhcmdlbWVudCcsCiAgICAgICAgICAgICAgICBodG1sOiAnVHJhaXRlbWVudCBlbiBjb3Vycy4uLicsCiAgICAgICAgICAgICAgICB0aW1lcjogMjAwMCwKICAgICAgICAgICAgICAgIGFsbG93T3V0c2lkZUNsaWNrOiBmYWxzZSwKICAgICAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgICAgIG9uQmVmb3JlT3BlbjogKCkgPT4gewogICAgICAgICAgICAgICAgICAgIHRoaXMuJHN3YWwuc2hvd0xvYWRpbmcoKQogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgfSkudGhlbigoKSA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiY3JlYXRlX3Byb2plY3RzIix0aGlzLnByb2plY3QpCiAgICAgICAgICAgICAgICAgICAgLnRoZW4oKHJlc3VsdCk9PnsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzdWx0KTsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kc3dhbCh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdDogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAidG9wLWVuZCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lcjogMjAwMCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVyUHJvZ3Jlc3NCYXI6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogInN1Y2Nlc3MiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICJsZSBwcm9qZXQgZXN0IGNyw6nDqSBhdmVjIHN1Y2PDqHMgISIsCiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGVycj0+Y29uc29sZS5sb2coZXJyKSkKICAgICAgICAgICAgfSk7CgoKICAgICAgICB9LAoKICAgICAgICBjYW5jZWwoKXsKICAgICAgICAgICAgdGhpcy5wcm9qZWN0LnRpdGxlPSAiIjsKICAgICAgICAgICAgdGhpcy5wcm9qZWN0LmRlc2NyaXB0aW9uPSAiIjsKICAgICAgICAgICAgdGhpcy5wcm9qZWN0LmltYWdlPSAiIjsKICAgICAgICAgICAgdGhpcy5wcm9qZWN0LmZpbGU9ICIiOwogICAgICAgICAgICB0aGlzLmlzVXBsb2FkZWQgPSBmYWxzZTsKICAgICAgICB9LAoKICAgICAgICB1cGxvYWRJbWFnZShldmVudCl7CiAgICAgICAgICAgIHRoaXMucHJvamVjdC5maWxlID0gdGhpcy4kcmVmcy5maWxlLmZpbGVzWzBdOwogICAgICAgICAgICBsZXQgZmlsZSA9IGV2ZW50LnRhcmdldC5maWxlc1swXTsKCiAgICAgICAgICAgIGlmIChmaWxlLnNpemUgPiAxMDQ4NTc2KXsKICAgICAgICAgICAgICAgIGFsZXJ0KCJEZXNvbMOpISBjZXR0ZSBpbWFnZSBlc3QgaW52YWxpZGUiKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlewogICAgICAgICAgICAgICAgbGV0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7CgogICAgICAgICAgICAgICAgcmVhZGVyLm9ubG9hZCA9IGV2ZW50ID0+IHsKICAgICAgICAgICAgICAgICAgICB0aGlzLnByb2plY3QuaW1hZ2UgPSBldmVudC50YXJnZXQucmVzdWx0OwogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpOwogICAgICAgICAgICAgICAgdGhpcy5pc1VwbG9hZGVkPXRydWUKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICB9Cn0K"},{"version":3,"sources":["project_create_page.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"project_create_page.vue","sourceRoot":"src/components/pages","sourcesContent":["<template>\n    <div>\n        <!-- Content Header (Page header) -->\n        <div class=\"content-header\">\n            <div class=\"container-fluid\">\n                <div class=\"row mb-2\">\n                    <div class=\"col-sm-6\">\n                        <h1 class=\"m-0 text-dark\">Création projets</h1>\n                    </div><!-- /.col -->\n                    <div class=\"col-sm-6\">\n                        <ol class=\"breadcrumb float-sm-right\">\n                            <li class=\"breadcrumb-item\"><router-link :to=\"{name:'home'}\" tag=\"a\">Acceuil</router-link></li>\n                        </ol>\n                    </div>\n                </div><!-- /.row -->\n            </div><!-- /.container-fluid -->\n        </div>\n        <!-- /.content-header -->\n\n        <!-- Main content -->\n        <div class=\"content\">\n            <div class=\"container-fluid\">\n                <div class=\"row\">\n                    <div class=\"col-12\">\n                        <div class=\"card card-primary\">\n                            <div class=\"card-header\">\n                                <h3 class=\"card-title\">Ajout projet</h3>\n                            </div>\n                            <!-- /.card-header -->\n                            <!-- form start -->\n                            <form role=\"form\"  enctype=\"multipart/form-data\">\n                                <div class=\"card-body\">\n                                    <div class=\"form-group\">\n                                        <label for=\"InputTitle\">Projet titre</label>\n                                        <input type=\"email\" v-model=\"project.title\" class=\"form-control border-primary\" id=\"InputTitle\" placeholder=\"Entrer le titre du service\">\n                                    </div>\n                                    <div class=\"form-group\">\n                                        <label>Projet description</label>\n                                        <textarea class=\"form-control border-primary\" v-model=\"project.description\" rows=\"3\" placeholder=\"Entrer la description\"></textarea>\n                                    </div>\n\n                                    <div class=\"form-group\">\n                                        <label for=\"InputFile\">Image de couverture</label>\n                                        <div class=\"input-group\">\n                                            <div class=\"custom-file\">\n                                                <input type=\"file\" ref=\"file\" class=\"custom-file-input border-primary\" @change=\"uploadImage($event)\" multiple=\"multiple\" id=\"InputFile\">\n                                                <label class=\"custom-file-label\" for=\"InputFile\">Choisir image</label>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <!--Logo view-->\n                                    <div class=\"row\" v-if=\"isUploaded\">\n                                        <div class=\"col-lg-4 col-md-6 col-sm-12 col-12\">\n                                            <img class=\"img-fluid mb-3\" :src=\"project.image\" alt=\"Photo\">\n                                        </div>\n                                    </div>\n                                    <!--Logo view end-->\n\n                                </div>\n                                <!-- /.card-body -->\n\n                                <div class=\"card-footer\">\n                                    <button type=\"button\" class=\"btn btn-primary mr-2\" @click=\"create\"> <i class=\"fa fa-plus mr-2\"></i> Ajouter</button>\n                                    <button type=\"button\" class=\"btn btn-secondary\" @click=\"cancel\"> <i class=\"fa fa-circle-notch mr-2\"></i> Annuler</button>\n                                </div>\n                            </form>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"row\">\n                    <div class=\"col-12\">\n                        <div class=\"card\">\n                            <div class=\"card-body\">\n                                <table class=\"table table-striped table-valign-middle\">\n                                    <thead>\n                                    <tr>\n                                        <th>Titre</th>\n                                        <th>Description</th>\n                                        <th></th>\n                                    </tr>\n                                    </thead>\n                                    <tbody>\n                                    <tr>\n                                        <td>\n                                            <img src=\"dist/img/default-150x150.png\" alt=\"Product 1\" class=\"img-size-32 mr-2\">\n                                            Lorem ipsum dolor sit amet consectetur adipisicing elit\n                                        </td>\n                                        <td>\n                                            Lorem ipsum dolor sit amet consectetur adipisicing elit\n                                        </td>\n                                        <td>\n                                            <button type=\"button\" class=\"btn btn-sm btn-info mr-2\"> <i class=\"fa fa-edit\"></i>modifier</button>\n                                            <button type=\"button\" class=\"btn btn-sm btn-danger\"> <i class=\"fa fa-trash\"></i>supprimer</button>\n                                        </td>\n                                    </tr>\n                                    <tr>\n                                        <td>\n                                            <img src=\"dist/img/default-150x150.png\" alt=\"Product 1\" class=\"img-size-32 mr-2\">\n                                            Lorem ipsum dolor sit amet consectetur adipisicing elit\n                                        </td>\n                                        <td>\n                                            Lorem ipsum dolor sit amet consectetur adipisicing elit\n                                        </td>\n                                        <td>\n                                            <button type=\"button\" class=\"btn btn-sm btn-info mr-2\"> <i class=\"fa fa-edit\"></i>modifier</button>\n                                            <button type=\"button\" class=\"btn btn-sm btn-danger\"> <i class=\"fa fa-trash\"></i>supprimer</button>\n                                        </td>\n                                    </tr>\n                                    <tr>\n                                        <td>\n                                            <img src=\"dist/img/default-150x150.png\" alt=\"Product 1\" class=\"img-size-32 mr-2\">\n                                            Lorem ipsum dolor sit amet consectetur adipisicing elit\n                                        </td>\n                                        <td>\n                                            Lorem ipsum dolor sit amet consectetur adipisicing elit\n                                        </td>\n                                        <td>\n                                            <button type=\"button\" class=\"btn btn-sm btn-info mr-2\"> <i class=\"fa fa-edit\"></i>modifier</button>\n                                            <button type=\"button\" class=\"btn btn-sm btn-danger\"> <i class=\"fa fa-trash\"></i>supprimer</button>\n                                        </td>\n                                    </tr>\n                                    </tbody>\n                                </table>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div><!-- /.container-fluid -->\n        </div>\n        <!-- /.content -->\n    </div>\n</template>\n\n<script>\n    export default {\n        name: \"project\",\n        data(){\n            return{\n                project:{\n                    title:'',\n                    image:'',\n                    description:'',\n                    file:''\n                },\n\n                isUploaded:false\n            }\n        },\n\n        methods:{\n            create(){\n                if(this.project.title===\"\"){\n                    this.$swal({\n                        toast: true,\n                        showConfirmButton: false,\n                        position: \"top-end\",\n                        timer: 2000,\n                        timerProgressBar: false,\n                        icon: \"warning\",\n                        title: \"vous devez entrer le titre du projet !\",\n                    });\n                    return;\n                }\n                if(this.project.description===\"\"){\n                    this.$swal({\n                        toast: true,\n                        showConfirmButton: false,\n                        position: \"top-end\",\n                        timer: 2000,\n                        timerProgressBar: false,\n                        icon: \"warning\",\n                        title: \"vous devez entrer la description du projet !\",\n                    });\n                    return;\n                }\n                if(this.project.file===\"\"){\n                    this.$swal({\n                        toast: true,\n                        showConfirmButton: false,\n                        position: \"top-end\",\n                        timer: 2000,\n                        timerProgressBar: false,\n                        icon: \"warning\",\n                        title: \"vous devez charger l'image de couverture !\",\n                    });\n                    return;\n                }\n\n                this.$swal({\n                    title: 'Chargement',\n                    html: 'Traitement en cours...',\n                    timer: 2000,\n                    allowOutsideClick: false,\n                    showConfirmButton: false,\n                    onBeforeOpen: () => {\n                        this.$swal.showLoading()\n                    },\n                }).then(() => {\n                    this.$store.dispatch(\"create_projects\",this.project)\n                        .then((result)=>{\n                            console.log(result);\n                            this.$swal({\n                                toast: true,\n                                showConfirmButton: false,\n                                position: \"top-end\",\n                                timer: 2000,\n                                timerProgressBar: false,\n                                icon: \"success\",\n                                title: \"le projet est créé avec succès !\",\n                            });\n                        })\n                        .catch(err=>console.log(err))\n                });\n\n\n            },\n\n            cancel(){\n                this.project.title= \"\";\n                this.project.description= \"\";\n                this.project.image= \"\";\n                this.project.file= \"\";\n                this.isUploaded = false;\n            },\n\n            uploadImage(event){\n                this.project.file = this.$refs.file.files[0];\n                let file = event.target.files[0];\n\n                if (file.size > 1048576){\n                    alert(\"Desolé! cette image est invalide\");\n                }\n                else{\n                    let reader = new FileReader();\n\n                    reader.onload = event => {\n                        this.project.image = event.target.result;\n                    };\n                    reader.readAsDataURL(file);\n                    this.isUploaded=true\n                }\n            },\n        }\n    }\n</script>\n\n<style scoped>\n\n</style>"]}]}